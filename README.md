秒杀优化
详情页(*.1)
    |
    |
    系统时间(*.2)——>倒计时
    |            |
    |            |
    动态地址暴露接口(*.3)
           |
           |
      执行秒杀操作(*.4)
           |
           |
       返回接口
       
提示:*表示可以优化的部分

*.1优化：为静态页面部分，秒杀页面会经常被用户刷新，所以采用CDN技术(页面静态化,静态资源js,css)。
*.2优化: 由于从后台获取服务器时间处理速度已经很快了，所以没有必要对这部分花大时间优化。
*.3      采用redis缓存所有商品的开始结束时间，缓存商品的信息，避免再次从数据库读取。
*.4      这部分优化是重点，所以会多花点时间讲解。
       瓶颈分析
       update减库存
       网络延迟 |GC
               |                                   mysql事务,行级锁，阻塞要影响了秒杀系统时间
               |
       insert购买明细                           
      网络延迟 |GC
               |
        commit/rollback
        
        
        模拟多用户操作遇到的问题:模拟20组用户同时秒杀的时候,存在insert数据插入失败的问题。待解决1
